<!DOCTYPE HTML>
<!--
	Urban by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html> 
	<!-- Head -->
	<head> 
		<title>Comment gagner à l'Eurovision ?</title>
		<meta charset="utf-8" />c
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head> 
	<!-- Head -->
	
	<!-- Body -->
	<body> 
		<!-- Header -->
		<header id="header" class="alt">
			<div class="logo"><a href="index.html">EuroViz <span>DataViz</span></a></div>
			<a href="#menu">Menu</a>
		</header>


		<!-- Banner -->
		<section id="banner">
			<div class="inner">
				<header>
					<h1>Comment gagner à l'Eurovision ?</h1>
					<p>Nous avons la solution!</p>
				</header>
				<a href="#main" class="button big scrolly">Le cocktail gagnant</a>
			</div>
		</section>

		<!-- début Main -->
		<div id="main">		
			<!-- début main 1 --> 
			<section class="wrapper style2">
				<div class="inner">
					<!-- 2 Columns -->
						<div class="flex flex-2">
							<div class="col col1">	
							<img width="300" style="margin:5px; padding:5px;" src="images/pic01.jpg" alt="" />
							
							<!-- Display the countdown timer in an element -->
							<p id="demo"></p>

							<script>
							// Set the date we're counting down to
							var countDownDate = new Date("May 7, 1977 23:00:00").getTime();

							// Update the count down every 1 second
							var x = setInterval(function() {

							  // Get todays date and time
							  var now = new Date().getTime();

							  // Find the distance between now an the count down date
							  var distance = now - countDownDate;

							  // Time calculations for years, days, hours, minutes and seconds
							  var years = Math.floor(distance / (1000 * 60 * 60 * 24 * 365));
							  var days = Math.floor((distance % (1000 * 60 * 60 * 24 * 365)) / (1000 * 60 * 60 * 24));
							  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
							  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
							  var seconds = Math.floor((distance % (1000 * 60)) / 1000);

							  // Display the result in the element with id="demo"
							  document.getElementById("demo").innerHTML = "<p> <h3>Aucune victoire depuis :</h3>" +
								  "<font size='15'>" + years  + " ans"+ "</font>" +
								  "<font size='10'>" + days + " jours " + "</font>" + 
								  "<font size='7'>" + hours + "h "+ "</font>" + 
								  "<font size='5'>" + minutes + "m " +  "</font>" + 
								  "<font size='3'>" + seconds + "s "  "</font> </p>" ; 

							  // If the count down is finished, write some text 
							  if (distance < 0) {
							    clearInterval(x);
							    document.getElementById("demo").innerHTML = "EXPIRED";
							  }
							}, 1000);
							</script>

							</div>
							<div class="col col2">
								<h3>La France va mal</h3>
								<p>Tic, Tac... 40 ans depuis la dernière victoire de la France à l'Eurovision. Nous avons pourtant tenté plusieurs stratégies: Amir, Patricia Kaas, Sebastien Tellier ou encore Anggun ne sont pas parvenus à faire remporter à la France le précieux sésame. Pourquoi est-ce que la France n'arrive pas à gagner l'Eurovision? Quelle est la stratégie ultime pour faire gagner la France?</p>
								<p>Après des décennies de recherche intensive, nous avons trouvé la formule gagnante.</p>
							</div>
						</div>
				</div>
			</section>
			<!-- fin main 1 --> 

			<!-- début main 2 -->
			<section class="wrapper style1">
				<div class="inner">
					<header class="align-center">
						<h2>Checklist</h2>
						<h3>1) Le représentant</h3>
						<h3>2) La chanson</h3>
						<h3>3) La Com </h3>
						<h3>4) La stratégie de vote</h3>
					</header>
					<div class="flex flex-1">

					</div>
				</div>
			</section>
			<!-- fin main 2 -->
		</div>
		<!-- fin main -->
		
		<!-- début section1 -->
		<section class="wrapper style2">
			<div class="inner">
				
				<header class="align-center">
					<h2>1) Le représentant</h2>
					<p>Age, genre, groupe</p>
				</header>
				
				<div class="flex flex-3">
					<div class="col align-center">
						<div class="image round fit">
							<img width="100"; src="images/femme.png" alt="" />
						</div>
						<p>Statistiquement, il vaut mieux choisir une femme comme représentante (une femme à barbe, c'est encore mieux).</p>
					</div>
					<div class="col align-center">
						<div class="image round fit">
							<img src="images/pic05.jpg" alt="" />
						</div>
						<p>Sans aucun doute, il faut choisir quelqu'un de jeune!</p>
					</div>
					<div class="col align-center">
						<div class="image round fit">
							<img src="images/band.jpg" alt="" />
						</div>
						<p>Les groupes sont à la mode</p>
					</div>
				</div>
			</div>
		</section>
		<!-- fin section1 -->
		
		<!-- début section2 -->
		<section class="wrapper style2">
			<div class="inner">
				<header class="align-center">
					<h2>Voilà notre représentant</h2>
				</header>
				<div class="flex flex-1">

				</div>
			</div>
		</section>
		<!-- fin section2 -->
		
		<!-- début section3 -->
		<section class="wrapper style1">
				<div class="inner">
					<header class="align-center">
						<h2>2) La chanson</h2>
						<p><b>La langue </b>: Terroir Vs Anglais</p>
						<p><b>Les paroles </b>: On parle de quoi ?</p>

					</header>
			</div>
		</section>
		<!-- fin section3 -->

		<!-- début section4 -->
		<section class="wrapper style1">
			<div class="inner">
				<div class="flex flex-5">
					<div class="col col1">
						<div id="container2"></div>
					</div>
					<div class="col col2">
						<h3>2.1) Chantons anglais!</h3>
						<p><b>La France aime chanter français à l'Eurovision: stratégiquement, c'est une très mauvaise idée.</b> Depuis près d'une trentaine d'années, les gagnants ont très souvent chanté en anglais. Les chansons "mixtes" sont la nouvelle mode de l'Eurovision: une autre stratégie, risquée mais potentiellement payante, serait de tenter une chanson en "fran-glais". Quelqu'un aurait le numéro de Christine and the Queens?</p>
						<p>Fun fact: <b>l'année qui déclenche le succès de la langue anglais à l'Eurovision coïncide parfaitement avec la chute du mur.</b> Coïncidence?</p>

					</div>

				</div>
			</div>
		</section>
		<!-- fin section4 -->
				
		<!-- début section5 -->
		<section class="wrapper style1">
			<div class="inner" style = "width:842px;">
				<!-- 2 Columns -->
					<div class="flex flex-5">
						<div class="col col1" style = "width:300px;">

						<h3>2.2) Les paroles gagnantes</h3>
						<p>Une analyse des paroles (traduites) des chansons gagnantes de la compétition depuis 1956 nous permet de créer la chanson ultime pour gagner à l'Eurovision. Love, scared, heroes, rock... Des paroles très engagées ressortent de l'analyse.</p>
						<p>Fun fact: En fonction des époques, des mots à la mode ressortent: <b>Rock est par exemple la parole la plus chantée dans les années 1980</b></p>


						</div>
						<div class="col col2" style = "width:540px;">
							<iframe align = "center" src=" https://pvilledieu.shinyapps.io/dataviz/" style="border:40px;width:500px;height:500px;"></iframe>
						</div>
					</div>
			</div>
		</section>
		<!-- fin section5 -->


		<!-- début section6 -->
		<section class="wrapper style1">
			<div class="inner">
				<header class="align-center">
					<h2>La chanson ultime pour remporter l'Eurovision</h2>
						<h3>Like A Crazy Song</h3>
						<p style="font-size:50%;">I heard there was a secret song<br>That Sophia knew about, and it pleased the singer<br>But you don't really care for heroes, do ya?<br>Well, it goes like this<br>The fourth, the fifth<br>The minor fall and the major lift<br>The baffled singer composing Hallelujah</p>
						<p style="font-size:50%;">Hallelujah<br>Hallelujah<br>Hallelujah<br>Hallelujah<br></p>
						<p style="font-size:50%;">I'm not here to say I'm a crazy kitten<br>I'm not here to lie to you<br></p>
						<p style="font-size:50%;">Some people wait a lifetime<br>For a song like this<br>Some people search forever<br>For that one crazy song<br>Ohh I can't believe it's happening to me<br>Some people wait a lifetime<br>For a song like this<br></p>
						<p style="font-size:50%;">I'm not here to say I'm a crazy kitten<br>I'm not here to lie to you<br></p>
						<p style="font-size:50%;">There's still a little bit of your rock on my mind<br>There's still a little bit of you laced with my doubt<br>It's still a little hard to say what's going on<br>There's still a little bit of your rock, your shining rock<br>There's still a little bit of your arms I haven't scared<brYou step a little closer each day that I can't say what's going on<br></p>
						<p style="font-size:50%;">A rock taught me to feel<br>Love taught me to swing<br>Life taught me to sleap<br>So it's not hard to fall<br>When you feel like a shining rock<br></p>
						<p style="font-size:50%;">The baffled singer composing Hallelujah<br>Hallelujah<br>Hallelujah<br>Hallelujah<br>Hallelujah<br></p>
						<p style="font-size:50%;">And if we're only here once I wanna feel with you<br>You've got something I need<br>In this world full of heroes there's one loving me<br>And if we're only here once (hallelujah)<br>I wanna feel with you (you, you, you)<br>You've got something I need<br>In this world full of heroes there's one loving me<br>And if we're only here once (hallelujah)<br>I wanna feel with you (you, you)<br></p>
						<p style="font-size:50%;">Skies are crazy, I am crazy<br>Catching heroes in my hands<br>Only silence as it's ending<br>Like we never had a chance<br>Do you have to make me feel crazy?<br></p>
						<p style="font-size:50%;">You can take the shining rock<br>You can break my eyes<br>Like I'm made of heroes<br>Like I'm made of heroes<br>Go on and try to tear me down<br>I will be rising from the ground<br>Like a shining rock<br>Like a beautiful heart<br></p>
						<p style="font-size:50%;">Who knows what miracles<br>You can achieve<br>When you feel<br>Somehow you will<br>You will when you feel<br></p>
						<p style="font-size:50%;">I'm not here to say I'm a crazy kitten<br>I'm not here to lie to you<br>I'm here to feel<br>I've finally thought it through<br>I'm not here to swing<br>I'm not giving up (hallelujah)<br>I'm here to love<br>To love is my goal</p>
				</header>
			</div>
		</section>
		<!-- fin section6 -->

		<!-- début section7 -->
		<section class="wrapper style2">
			<div class="inner">
				<div class="flex flex-5">
					<div class="col col1">
						<iframe align = "center" width="500" height="400" frameborder="10" scrolling="no" src="//plot.ly/~eurovision-dataviz-ensae/10.embed?share_key=UdW37yBC3dCHzqxTBoEqla&show_link=false"></iframe>
					</div>
					<div class="col col2">
						<h3>3) Le Buzz ne paie pas forcément</h3>
						<p><b>La guerre ne se gagne pas forcément sur les réseaux sociaux.</b> Généralement, les vainqueurs de la compétition n'étaient pas ceux qui emportaient le plus de buzz sur internet. Inversement, certains perdants avaient pourtant su générer un engouement important sur la toile</p>
						<p>Gardons notre énergie pour réfléchir à moyen plus direct de gagner.</p>

					</div>

				</div>
			</div>
		</section>
		<!-- fin section7 -->

		<!-- début section8 -->
		<section class="wrapper style1">
			<div class="inner">
				<!-- 2 Columns -->
					<div class="flex flex-2">

						<div class="col col1">	

							<div id="radins"></div>	

						</div>
						<div class="col col2">
							<h3>Evitons les pays radins!</h3>
							<p>Malheureusement, impossible de voter pour soi-même au concours. Nous sommes obligés d'attribuer des points aux concurrents. Quel Pays mérite nos points?</p>
							<p>Premier conseil et non des moindres pour gagner en crédibilité: arrêtons d'attribuer des points aux pays qui nous en envoient jamais! Inversement, soyons sympa avec la Bosnie, la Lituanie et l'Islande: ils mériteraient davantage notre soutien!</p>

						</div>
					</div>
			</div>
		</section>
		<!-- fin section8 -->

		<!-- Footer -->
		<footer id="footer">
			<div class="copyright">
				<ul class="icons">
					<li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
					<li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
					<li><a href="#" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
					<li><a href="#" class="icon fa-snapchat"><span class="label">Snapchat</span></a></li>
				</ul>
				<p>&copy; Untitled. All rights reserved. Design: <a href="https://templated.co">TEMPLATED</a>. Images: <a href="https://unsplash.com">Unsplash</a>.</p>
			</div>
		</footer>
		<!-- Footer -->


		<!-- Scripts -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/jquery.scrolly.min.js"></script>
		<script src="assets/js/jquery.scrollex.min.js"></script>
		<script src="assets/js/skel.min.js"></script>
		<script src="assets/js/util.js"></script>
		<script src="assets/js/main.js"></script>

		<!-- load jQuery -->
		<script src="https://code.jquery.com/jquery-3.1.1.min.js"
		integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
		crossorigin="anonymous"></script>

		<!-- load Highcharts, Highcharts-more, and modules -->
		<script src="https://code.highcharts.com/highcharts.js"></script>
		<script src="https://code.highcharts.com/highcharts-more.js"></script>
		<script src="https://code.highcharts.com/modules/data.js"></script>
		<script src="https://code.highcharts.com/modules/exporting.js"></script>

		<script>
		var categories = [
		'Turquie', 'Israel', 'Espagne', 'Italie', 'Arménie', 'Serbie', 'Roumanie', 'Suède', 'Allemagne', 'Portugal', 'Autriche', 'Danemark', 'Malte','Norvège', 'Pologne', 'Russie', 'Belgique', 'Lettonie', 'Pays-Bas', 'Estonie', 'Grèce', 'Chypre', 'Slovénie', 'Irlande', 'Croatie','Albanie', 'Suisse', 'Finlande', 'Royaume-Uni', 'Islande', 'Lituanie', 'Bosnie-Herzégovine' 
		];

		Highcharts.chart('radins', {
		chart: {
		type: 'bar',
		backgroundColor: null
		},
		title: {
		text: ''
		},
		subtitle: {
		text: 'Source: <a href="https://data.world/datagraver/eurovision-song-contest-scores"><i>data.world</a>, calcul des auteurs (Année: depuis 2000)'
		},
		xAxis: [{
		categories: categories,
		reversed: false,
		labels: {
		    step: 1,
		    style: {
			    fontSize:'8px'
		}
		}
		}],
		yAxis: {
		title: {
		    text: null
		},
		reversed: true,
		labels: {
		    formatter: function () {
			return Math.abs(this.value);
		    }
		}
		},

		plotOptions: {
		series: {
		    stacking: 'normal'
		}
		},
		credits: {
		text: 'ENSAE / Projet Dataviz'
		},
		tooltip: {
		formatter: function () {
		    return '<b>' + ' Pays: </b>' + this.point.category + '</b><br/>' +
		      '<b>'+  this.series.name + ':</b> '+Highcharts.numberFormat(Math.abs(this.point.y), 0);
		}
		},

		series: [{
		name: 'Points accordés par la France',
		data: [
		    -123, -65, -72, -38,
		    -68, -33, -34, -52,
		    -39, -41, -22, -38,
		    -19, -13, -14, -38,
		    -38, -18, -17, -18,
		    -32, -5, -6, -5, -8,
		    -2, -3, -11, -6, -8, -3, -19
		],
		color:'rgb(255,160,122)'
		}, {
		name: 'Points envoyés à la France',
		data: [
		   1, 30, 37, 8, 42, 
		   7, 10, 29, 18, 25,
		   9, 25, 9, 13, 15,
		   39, 41, 21, 21, 23,
		   39, 18, 19, 19, 23,
		   20, 23, 32, 27, 34,
		   30, 50
		],
		color: 'rgb(64,224,208)'
		}, {
		name: 'Différence (Radin index)',

		data: [
		   -122,-35,-35,-30,-26,
		   -26,-24,-23,-21,-16,
		   -13,-13,-10,0,1,
		   1,3,3,4,5,
		   7,13,13,14,15,
		   18,20,21,21,26,
		   27,31
		],
		type: 'spline',
		color: 'rgb(30,144,255)',
		lineWidth:0.5,
		marker: {
			radius: 3
		    }        
		}]
		});
		</script>
		
		<script>
			creditURL = 'https://www.datavizforall.org/highcharts';
			$(function() {
				$.get('langues.csv', function(csv) {     // EDIT to match your CSV data file name
			      Highcharts.chart('container2', {
				chart: {
				  backgroundColor: null,
				  type: 'line',
				  zoomType: 'xy',
				  events: {
				    load: function() {
				      this.credits.element.onclick = function() {
					window.open(creditURL, '_blank');
				      }
				    }
				  }
				},
				title: {
				  text: "Langue chantée par les gagnants de l'Eurovision"
				},
				subtitle: {
				  text: 'Download <a href="langues.csv"> source data</a>', // EDIT link and text
				  useHTML: true
				},
				credits: {
				  enabled: true,
				  text: 'ENSAE Dataviz (Source: Wikipedia)'
				},
				data: {
				  csv: csv,
				  // data column headers (x, y, name...) must match column numbers (0, 1, 2...). Optional: category: 3
				  seriesMapping: [{x: 0, y: 2, category:1, name:1}],
				  complete: function(data) {
				    categoriesIntoSeries(data);
				    changeSeriesColors(data);
				    changeSeriesMarkers(data)
				  }
				},
				legend: {
				  enabled: true  // EDIT to true if using more than one category, color, shape
				},
				xAxis: {
				  title: {
				    text: 'Année'  // EDIT to insert horizontal x-axis label
				  }, 
				  plotBands: [{
				    color: 'rgb(0, 138, 230,0.05)', // Color value
				    from: 1991, // Start of the plot band
				    to: 2017, // End of the plot band
				    label: { 
					color : 'rgb(0, 138, 230,0.9)',
					text: "Triomphe de l'Anglais", // Content of the label. 
					align: 'left' // Positioning of the label.
				    }
				  }]
				},
				yAxis: {
				  title: {
				    text: 'Victoires cumulées'   // EDIT to insert vertical y-axis label
				  }
				},
				plotOptions: {
				    line: {
					marker: {
					    radius: 1,
					    states: {
						hover: {
						  enabled: true,
						}
					    }
					},
					stickyTracking: false,
				    }
				},
				tooltip: {
				    useHTML: true,
				    formatter: function() {
				      point = this.point;
				      // EDIT tooltip text labels below to match your data
				      html = '<table>';
				      html += point.name ;
				      html += '<tr><th>Année : </th><td>' + point.x + '</td></tr>';
				      html += '<tr><th> Victoires :</th><td>' + point.y + '</td></tr>';
				      html += '</table>';
				      return html;
				    },
				    followPointer: true,
				    hideDelay: 50
				},
			      });
			    });
			  });
			  // Split data based on 'category' property; needed for correct legend display
			  function categoriesIntoSeries(data) {
			    rows = data.series[0].data;
			    data.series = [];
			    for (i = 0; i < rows.length; i++) {
			      cat = rows[i].category;
			      catExists = false;
			      for (j = 0; j < data.series.length; j++) {
				if (data.series[j].name == cat) {
				  // Add a data point to existing series
				  data.series[j].data.push(rows[i]);
				  catExists = true;
				}
			      }
			      if (!catExists) {
				// When category is encountered for the first time, create a series
				data.series.push({name: cat, data: [rows[i]]})
			      }
			    }
			  }
			  // Customize colors of series
			  function changeSeriesColors(data) {
			    colors = {
			      'Anglais': 'rgb(0, 138, 230,0.8)', // to add transparency, define colors in rgba() model, where the last number is between 0 and 1 (opacity)
			      "Langue d'origine": 'rgb(230, 115, 0, 0.8)', 
			      'Mixte': 'rgb(179, 0, 134, 0.8)'
			    }
			    for (i = 0; i < data.series.length; i++) {
			      data.series[i].color = colors[data.series[i].name] ;
			    }
			  }
			  // Customize markers of scatter series. Possible options are:
			  // 'circle', 'square', 'diamond', 'triangle', 'triangle-down'
			  function changeSeriesMarkers(data) {
			    markers = {
			      'Anglais': 'circle',
			      'Mixte': 'triangle',
			      "Langue d'origine": 'square'
			    }
			    for (i = 0; i < data.series.length; i++) {
			      data.series[i].marker = {symbol: markers[data.series[i].name]};
			    }
			  }
			  // Returns a string that contains digits of val split by comma evey 3 positions
			  // Example: 12345678 -> "12,345,678"
			  function comma(val) {
			      while (/(\d+)(\d{3})/.test(val.toString())) {
				  val = val.toString().replace(/(\d+)(\d{3})/, '$1' + ',' + '$2');
			      }
			      return val;
			  }
			  </script>

			<svg xmlns="http://www.w3.org/2000/svg" width="500" height="500" viewBox="0 0 500 500" preserveAspectRatio="none" style="display: none; visibility: hidden; position: absolute; top: -100%; left: -100%;"><defs><style type="text/css"></style></defs><text x="0" y="25" style="font-weight:bold;font-size:25pt;font-family:Arial, Helvetica, Open Sans, sans-serif">500x500</text></svg></body></html>
	</body>
</html>
